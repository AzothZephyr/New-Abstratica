{"remainingRequest":"/Users/aaronh/Downloads/abstratica-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aaronh/Downloads/abstratica-web/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aaronh/Downloads/abstratica-web/src/App.vue","mtime":1653334282000},{"path":"/Users/aaronh/Downloads/abstratica-web/node_modules/cache-loader/dist/cjs.js","mtime":1693191335836},{"path":"/Users/aaronh/Downloads/abstratica-web/node_modules/babel-loader/lib/index.js","mtime":1693191336222},{"path":"/Users/aaronh/Downloads/abstratica-web/node_modules/cache-loader/dist/cjs.js","mtime":1693191335836},{"path":"/Users/aaronh/Downloads/abstratica-web/node_modules/vue-loader/lib/index.js","mtime":1693191336374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovCmltcG9ydCBXYWxsZXREaWFsb2cgZnJvbSAiLi9jb21wb25lbnRzL1dhbGxldERpYWxvZy52dWUiOwppbXBvcnQgV2FsbGV0QnV0dG9uIGZyb20gIi4vY29tcG9uZW50cy9XYWxsZXRCdXR0b24udnVlIjsKaW1wb3J0IFNpZGVEcmF3ZXIgZnJvbSAiLi9jb21wb25lbnRzL1NpZGVEcmF3ZXIudnVlIjsKaW1wb3J0IHdhbGxldEZhYyBmcm9tICIuL2xpYi93YWxsZXQvd2FsbGV0LWZhY3RvcnkiOwppbXBvcnQgTWludGVkU3RhdHVzIGZyb20gIi4vY29tcG9uZW50cy9NaW50ZWRTdGF0dXMudnVlIjsKaW1wb3J0IE1pbnREaWFsb2cgZnJvbSAiLi9jb21wb25lbnRzL01pbnREaWFsb2cudnVlIjsKaW1wb3J0IHsgbmV0d29yaywgbmV0d29ya0Nvbm5lY3Rpb24sIGNyZWF0b3IgfSBmcm9tICIuL2xpYi9jb25uZWN0aW9uIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBzbGVlcCwgdG9EaXNwbGF5QW1vdW50IH0gZnJvbSAiLi9saWIvdXRpbCI7CmltcG9ydCB7IE1BWF9NSU5ULCBNSU5UX1BSSUNFLCBFTkFCTEVfTUlOVCB9IGZyb20gIi4vbGliL3NldHRpbmdzIjsKaW1wb3J0IHsgY3JlYXRlTWludFJlcXVlc3RUcmFuc2NhdGlvbiB9IGZyb20gIi4vbGliL3RyYW5zYWN0aW9uIjsKCnZhciBXYWxsZXQgPSBudWxsOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGNvbXBvbmVudHM6IHsKICAgIFdhbGxldERpYWxvZywKICAgIFdhbGxldEJ1dHRvbiwKICAgIFNpZGVEcmF3ZXIsCiAgICBNaW50ZWRTdGF0dXMsCiAgICBNaW50RGlhbG9nLAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJtaW50ZWQiLCAiY29ubmVjdGVkV2FsbGV0IiwgImlzQ29ubmVjdGVkIiwgIm5ld01pbnRCYWRnZSJdKSwKCiAgICBsYW1wb3J0cygpIHsKICAgICAgcmV0dXJuIHRoaXMuYWNjb3VudEluZm8/LmxhbXBvcnRzIHx8IDA7CiAgICB9LAogICAgd2FsbGV0U29sKCkgewogICAgICByZXR1cm4gdG9EaXNwbGF5QW1vdW50KHRoaXMuYWNjb3VudEluZm8/LmxhbXBvcnRzIHx8IDApOwogICAgfSwKICAgIHdhbGxldExhbXBvcnRzKCkgewogICAgICByZXR1cm4gdGhpcy5hY2NvdW50SW5mbz8ubGFtcG9ydHMgfHwgMDsKICAgIH0sCiAgICB3YWxsZXRDb25uZWN0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzQ29ubmVjdGVkOwogICAgfSwKICAgIGN1cnJlbnRWaWV3KCkgewogICAgICByZXR1cm4gKHRoaXMuJHJvdXRlLm5hbWUgfHwgIiIpLnRvTG93ZXJDYXNlKCk7CiAgICB9LAogICAgbmV0d29yaygpIHsKICAgICAgcmV0dXJuIG5ldHdvcms7CiAgICB9LAogICAgbWF4TWludCgpIHsKICAgICAgcmV0dXJuIE1BWF9NSU5UOwogICAgfSwKICAgIG1pbnRQcmljZUxhbXBvcnRzKCkgewogICAgICByZXR1cm4gTUlOVF9QUklDRTsKICAgIH0sCiAgICBhbGxvd01pbnQoKSB7CiAgICAgIHJldHVybiBFTkFCTEVfTUlOVDsKICAgIH0sCiAgICBtaW50UHJpY2VTb2woKSB7CiAgICAgIHJldHVybiB0b0Rpc3BsYXlBbW91bnQodGhpcy5taW50UHJpY2VMYW1wb3J0cyk7CiAgICB9LAogICAgY29ubmVjdGVkV2FsbGV0S2V5KCkgewogICAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWRXYWxsZXQ7CiAgICB9LAogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGF3YWl0IHRoaXMubG9hZEFicygpOwogICAgLy8gYXdhaXQgdGhpcy5zdGFydFBvbGxpbmdOZXdNaW50KCk7CiAgfSwKICAvLyBjbGVhbiB1cAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAodGhpcy5uZXdNaW50UG9vbGluZ0hhbmRsZSkgY2xlYXJJbnRlcnZhbCh0aGlzLm5ld01pbnRQb29saW5nSGFuZGxlKTsKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBuYW1lOiAiQWJzdHJhdGljYSIsCiAgICAvLyB3YWxsZXQKICAgIGFjY291bnRDaGFuZ2VIYW5kbGU6IDAsCiAgICBhY2NvdW50SW5mbzogbnVsbCwKCiAgICBtaW50RGlhbG9nOiBmYWxzZSwKICAgIHN1Ym1pdGluZ01pbnQ6IGZhbHNlLAoKICAgIC8vIGNvbXBvbmVudCBzdHVmZgogICAgc25hY2tiYXI6IGZhbHNlLAogICAgc25hY2tiYXJNZXNzYWdlOiAiIiwKICAgIC8vIHNuYWNrYmFyVHlwZTogInByaW1hcnkiLCAvLyBkZWZhdWx0IGNvbG9yIGxvb2tzIHRvbyB1Z2x5CiAgICBkcmF3ZXI6IGZhbHNlLAogICAgd2FsbGV0RGlhbG9nOiBmYWxzZSwKCiAgICBuYXY6IFsKICAgICAgewogICAgICAgIG5hbWU6ICJob21lIiwKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgcGF0aDogIi9ob21lIiwKICAgICAgICBpY29uOiAibWRpLWhvbWUiLAogICAgICB9LAogICAgICB7CiAgICAgICAgbmFtZTogIm15IGNvbGxlY3Rpb24iLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBwYXRoOiAiL2NvbGxlY3Rpb24iLAogICAgICAgIGljb246ICJtZGktaW1hZ2UtbXVsdGlwbGUiLAogICAgICB9LAogICAgICB7CiAgICAgICAgbmFtZTogImV4cGxvcmUiLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBwYXRoOiAiL2V4cGxvcmUiLAogICAgICAgIGljb246ICJtZGktY29tcGFzcyIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBuYW1lOiAiY29kZXgiLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBwYXRoOiAiL2NvZGV4IiwKICAgICAgICBpY29uOiAibWRpLWJvb2stb3Blbi1wYWdlLXZhcmlhbnQiLAogICAgICB9LAogICAgICB7CiAgICAgICAgbmFtZTogIm1hcmtldHBsYWNlIiwKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgdGFyZ2V0OiAiX2JsYW5rIiwKICAgICAgICBocmVmOiAiaHR0cHM6Ly9kaWdpdGFsZXllcy5tYXJrZXQvY29sbGVjdGlvbnMvQWJzdHJhdGljYSIsCiAgICAgICAgaWNvbjogIm1kaS1zaG9wcGluZyIsCiAgICAgIH0sCiAgICBdLAogICAgbmV3TWludFBvbGxJbnRlcnZhbDogNTAwMCwKICAgIG5ld01pbnRQb29saW5nSGFuZGxlOiAwLAogICAgaXNQb29saW5nOiBmYWxzZSwKICAgIHByZXZpb3VzVGFiOiAiL2hvbWUiLAogICAgY3VycmVudFRhYjogIi9ob21lIiwKICAgIGFsbG93VGFiczogWyIvaG9tZSIsICIvZXhwbG9yZSIsICIvY29kZXgiLCAiL2NvbGxlY3Rpb24iXSwKICB9KSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsibG9hZEFicyIsICJjb25uZWN0IiwgImRpc2Nvbm5lY3QiLCAicmVmcmVzaFRva2VucyJdKSwKICAgIGFzeW5jIHN0YXJ0UG9sbGluZ05ld01pbnQoKSB7CiAgICAgIHRoaXMubmV3TWludFBvb2xpbmdIYW5kbGUgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7CiAgICAgICAgaWYgKCF0aGlzLndhbGxldENvbm5lY3RlZCB8fCB0aGlzLmlzUG9vbGluZykgcmV0dXJuOwogICAgICAgIGF3YWl0IHRoaXMudXBkYXRlV2FsbGV0U3BsKCk7CiAgICAgIH0sIHRoaXMubmV3TWludFBvbGxJbnRlcnZhbCk7CiAgICB9LAogICAgYXN5bmMgdXBkYXRlV2FsbGV0U3BsKCkgewogICAgICB0aGlzLmlzUG9vbGluZyA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoVG9rZW5zKCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBhd2FpdCBzbGVlcCgyMDAwKTsKICAgICAgICBjb25zb2xlLmxvZygidXBkYXRlIHdhbGxldCBpbmZvIGVycm9yIik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5pc1Bvb2xpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVNvbEJhbGFuY2UoaW5mbykgewogICAgICB0aGlzLmFjY291bnRJbmZvLmxhbXBvcnRzID0gaW5mby5sYW1wb3J0czsKICAgIH0sCiAgICBhc3luYyBvbkNvbm5lY3Qod2FsbGV0TmFtZSkgewogICAgICBXYWxsZXQgPSBhd2FpdCB3YWxsZXRGYWMod2FsbGV0TmFtZSwgbmV0d29yayk7CgogICAgICBXYWxsZXQub24oImNvbm5lY3QiLCBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLm9uV2FsbGV0Q29ubmVjdENiKCkpOwogICAgICBXYWxsZXQub24oImRpc2Nvbm5lY3QiLCB0aGlzLm9uV2FsbGV0RGlzY29ubmVjdENiKTsKICAgICAgV2FsbGV0Lm9uKCJlcnJvciIsIChlKSA9PiB7CiAgICAgICAgaWYgKGUubmFtZSA9PSAiV2FsbGV0Tm90Rm91bmRFcnJvciIpIHsKICAgICAgICAgIHRoaXMuc2hvd1NuYWNrQmFyKGBDb3VsZCBub3QgY29ubmVjdCB0byAke3dhbGxldE5hbWV9YCk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCJ3YWxsZXQgY29ubmVjdCBjYW5jZWxlZCIpOwogICAgICB9KTsKCiAgICAgIFdhbGxldC5jb25uZWN0KCk7CiAgICB9LAogICAgYXN5bmMgb25XYWxsZXRDb25uZWN0Q2IoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5jb25uZWN0KFdhbGxldC5wdWJsaWNLZXkpOwogICAgICAgIHRoaXMuYWNjb3VudENoYW5nZUhhbmRsZSA9IG5ldHdvcmtDb25uZWN0aW9uLm9uQWNjb3VudENoYW5nZSgKICAgICAgICAgIFdhbGxldC5wdWJsaWNLZXksCiAgICAgICAgICB0aGlzLnVwZGF0ZVNvbEJhbGFuY2UKICAgICAgICApOwoKICAgICAgICAvLyBubyBuZWVkIHRvIHdhaXQgZm9yIHRoaXMKICAgICAgICB0aGlzLmFjY291bnRJbmZvID0gYXdhaXQgbmV0d29ya0Nvbm5lY3Rpb24uZ2V0QWNjb3VudEluZm8oCiAgICAgICAgICB0aGlzLmNvbm5lY3RlZFdhbGxldEtleQogICAgICAgICk7CiAgICAgICAgdGhpcy5zaG93U25hY2tCYXIoIldhbGxldCBjb25uZWN0ZWQuIiwgInN1Y2Nlc3MiKTsKICAgICAgICB0aGlzLndhbGxldERpYWxvZyA9IGZhbHNlOwogICAgICB9IGNhdGNoIHsKICAgICAgICBjb25zb2xlLmxvZygid2FsbGV0IGNvbm5lY3QgY2FuY2VsZWQiKTsKICAgICAgfQogICAgfSwKICAgIG9uV2FsbGV0RGlzY29ubmVjdENiKCkgewogICAgICBuZXR3b3JrQ29ubmVjdGlvbi5yZW1vdmVBY2NvdW50Q2hhbmdlTGlzdGVuZXIodGhpcy5hY2NvdW50Q2hhbmdlSGFuZGxlKTsKICAgICAgdGhpcy5kaXNjb25uZWN0KCk7CiAgICAgIHRoaXMuc2hvd1NuYWNrQmFyKCJXYWxsZXQgZGlzY29ubmVjdGVkLiIsICJzdWNjZXNzIik7CiAgICAgIHRoaXMubWludERpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIG9wZW5XYWxsZXREaWFsb2coKSB7CiAgICAgIHRoaXMud2FsbGV0RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBkaXNjb25uZWN0V2FsbGV0KCkgewogICAgICBXYWxsZXQuZGlzY29ubmVjdCgpOwogICAgICB0aGlzLmRpc2Nvbm5lY3QoKTsKICAgIH0sCgogICAgc2hvd1NuYWNrQmFyKG1lc3NhZ2UsIHR5cGUgPSAicHJpbWFyeSIpIHsKICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgIHRoaXMuc25hY2tiYXJNZXNzYWdlID0gbWVzc2FnZTsKICAgICAgLy8gdGhpcy5zbmFja2JhclR5cGUgPSB0eXBlOwogICAgfSwKICAgIG9uUmVzaXplKCkgewogICAgICB0aGlzLmRyYXdlciA9IGZhbHNlOwogICAgfSwKICAgIG9uTWludENsaWNrZWQoKSB7CiAgICAgIGlmICghdGhpcy53YWxsZXRDb25uZWN0ZWQpIHsKICAgICAgICB0aGlzLndhbGxldERpYWxvZyA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMubWludERpYWxvZyA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgb25UYWJDaGFuZ2UoY2xpY2tlZFRhYikgewogICAgICAvLyBjb25zb2xlLmxvZyhjbGlja2VkVGFiKTsKICAgICAgY29uc3QgaXNBbGxvdyA9CiAgICAgICAgdGhpcy5hbGxvd1RhYnMuZmluZEluZGV4KAogICAgICAgICAgKHQpID0+IHQudG9Mb3dlckNhc2UoKSA9PT0gY2xpY2tlZFRhYi50b0xvd2VyQ2FzZSgpCiAgICAgICAgKSAhPT0gLTE7CiAgICAgIHRoaXMuY3VycmVudFRhYiA9IGNsaWNrZWRUYWI7CiAgICAgIGF3YWl0IHRoaXMuJG5leHRUaWNrKCk7CiAgICAgIGlmICghaXNBbGxvdykgdGhpcy5jdXJyZW50VGFiID0gdGhpcy5wcmV2aW91c1RhYjsKICAgICAgZWxzZSB0aGlzLnByZXZpb3VzVGFiID0gdGhpcy5jdXJyZW50VGFiOwogICAgfSwKCiAgICBhc3luYyBvbk1pbnRSZXF1ZXN0KCkgewogICAgICBpZiAoIXRoaXMuYWxsb3dNaW50KSByZXR1cm47CiAgICAgIC8vIGNyYWZ0IHRyYW4KICAgICAgdGhpcy5zdWJtaXRpbmdNaW50ID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB0cmFucyA9IGF3YWl0IGNyZWF0ZU1pbnRSZXF1ZXN0VHJhbnNjYXRpb24oCiAgICAgICAgICBuZXR3b3JrQ29ubmVjdGlvbiwKICAgICAgICAgIHRoaXMuY29ubmVjdGVkV2FsbGV0S2V5LAogICAgICAgICAgY3JlYXRvciwKICAgICAgICAgIHRoaXMubWludFByaWNlTGFtcG9ydHMKICAgICAgICApOwoKICAgICAgICBjb25zdCBzaWduZWQgPSBhd2FpdCBXYWxsZXQuc2lnblRyYW5zYWN0aW9uKHRyYW5zKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0cmFucyk7CiAgICAgICAgY29uc3QgY29uZmlybWVkID0gYXdhaXQgbmV0d29ya0Nvbm5lY3Rpb24uc2VuZFJhd1RyYW5zYWN0aW9uKAogICAgICAgICAgc2lnbmVkLnNlcmlhbGl6ZSgpLAogICAgICAgICAgewogICAgICAgICAgICBza2lwUHJlZmxpZ2h0OiB0cnVlLAogICAgICAgICAgICBwcmVmbGlnaHRDb21taXRtZW50OiAiY29uZmlybWVkIiwKICAgICAgICAgIH0KICAgICAgICApOwoKICAgICAgICB0aGlzLnNob3dTbmFja0JhcigKICAgICAgICAgIGBUcmFuc2FjdGlvbiBzZW50OiAke2NvbmZpcm1lZC5zdWJzdHJpbmcoMCwgMTYpfS4uLmAsCiAgICAgICAgICAic3VjY2VzcyIKICAgICAgICApOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuc3VibWl0aW5nTWludCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-app-bar app color=\"grey darken-4\" dark flat>\n      <v-app-bar-nav-icon\n        @click.stop=\"drawer = !drawer\"\n        class=\"d-xs-block d-sm-block d-md-none d-lg-none d-xl-none\"\n      ></v-app-bar-nav-icon>\n      <v-container fluid>\n        <v-row>\n          <v-col cols=\"5\" sm=\"4\" md=\"2\" lg=\"2\" xl=\"2\">\n            <div class=\"align-center d-flex fill-height\">\n              <v-img\n                :alt=\"name\"\n                class=\"shrink ma-0 pa-0 d-none d-md-block d-lg-block d-xl-block\"\n                contain\n                src=\"/logo_gradient.png\"\n                width=\"40\"\n              />\n              <router-link\n                :to=\"{ path: '/home' }\"\n                class=\"no-text-decor inherit-color\"\n              >\n                <h4 class=\"app-name ml-sm-0 ml-xs-0 ml-md-2 ml-lg-2 ml-xl-2\">\n                  {{ name }}\n                </h4>\n              </router-link>\n            </div>\n          </v-col>\n\n          <v-col xl=\"8\" lg=\"8\" md=\"8\" sm=\"2\" class=\"pa-0 align-center\">\n            <div\n              class=\"\n                text-center\n                d-none d-md-block d-lg-block d-xl-block\n                fill-height\n              \"\n            >\n              <v-tabs\n                :value=\"currentTab\"\n                @change=\"onTabChange\"\n                grow\n                centered\n                center-active\n                height=\"64\"\n                class=\"d-block fill-height nav-tabs mx-auto\"\n              >\n                <template v-for=\"(item, i) in nav\">\n                  <v-tab\n                    :disabled=\"item.disabled\"\n                    :key=\"i\"\n                    :to=\"!item.target ? item.path : ''\"\n                    :href=\"item.target ? item.href : ''\"\n                    :target=\"item.target || ''\"\n                  >\n                    <template v-if=\"item.name == 'my collection'\">\n                      <v-badge\n                        dark\n                        :value=\"walletConnected && newMintBadge > 0\"\n                        inline\n                        :content=\"newMintBadge\"\n                        color=\"secondary\"\n                      >\n                        <!-- badge wrap cause inactive icon color to stay active -->\n                        <v-icon\n                          left\n                          :class=\"[\n                            'text-capitalize d-md-none d-lg-inline-block d-xl-inline-block mb-1',\n                            currentView !== 'mycollection'\n                              ? 'icon-inactive-fix'\n                              : '',\n                          ]\"\n                          >{{ item.icon }}</v-icon\n                        >\n                        {{ item.name }}\n                      </v-badge>\n                      <!-- newMintBadge > 0 && currentView !== 'mycollection' -->\n                    </template>\n                    <template v-else>\n                      <v-icon\n                        left\n                        class=\"\n                          text-capitalize\n                          d-md-none d-lg-inline-block d-xl-inline-block\n                          mb-1\n                        \"\n                        >{{ item.icon }}</v-icon\n                      >\n                      {{ item.name }}\n                    </template>\n                  </v-tab>\n                </template>\n              </v-tabs>\n            </div>\n          </v-col>\n\n          <v-col cols=\"7\" sm=\"6\" md=\"2\" lg=\"2\" xl=\"2\">\n            <WalletButton\n              :lamports=\"lamports\"\n              :address=\"connectedWalletKey\"\n              :network=\"network\"\n              @connect=\"openWalletDialog\"\n              @disconnect=\"disconnectWallet\"\n            />\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-app-bar>\n    <MintedStatus\n      :minted=\"minted\"\n      :max=\"maxMint\"\n      v-show=\"1 == 0 && !$vuetify.breakpoint.mobile\"\n    />\n    <v-btn\n      class=\"mint-btn bn5\"\n      fab\n      x-large\n      dark\n      fixed\n      bottom\n      right\n      text\n      :ripple=\"false\"\n      @click=\"onMintClicked\"\n    >\n      <v-icon class=\"z-1000 bn5-icon\">mdi-wallet-plus</v-icon>\n    </v-btn>\n\n    <SideDrawer v-model=\"drawer\" :name=\"name\" :nav=\"nav\" />\n    <v-main>\n      <keep-alive>\n        <router-view :app-name=\"name\"></router-view>\n      </keep-alive>\n    </v-main>\n    <MintDialog\n      v-model=\"mintDialog\"\n      v-show=\"walletConnected\"\n      :minted=\"minted\"\n      :max=\"maxMint\"\n      :price=\"mintPriceLamports\"\n      :balance=\"walletLamports\"\n      :loading=\"submitingMint\"\n      :allowMint=\"allowMint\"\n      @mint=\"onMintRequest\"\n    />\n    <WalletDialog v-model=\"walletDialog\" @connect=\"onConnect\" />\n    <v-snackbar v-model=\"snackbar\" top right :timeout=\"3000\">\n      {{ snackbarMessage }}\n    </v-snackbar>\n  </v-app>\n</template>\n<script>\n/* eslint-disable no-unused-vars */\nimport WalletDialog from \"./components/WalletDialog.vue\";\nimport WalletButton from \"./components/WalletButton.vue\";\nimport SideDrawer from \"./components/SideDrawer.vue\";\nimport walletFac from \"./lib/wallet/wallet-factory\";\nimport MintedStatus from \"./components/MintedStatus.vue\";\nimport MintDialog from \"./components/MintDialog.vue\";\nimport { network, networkConnection, creator } from \"./lib/connection\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport { sleep, toDisplayAmount } from \"./lib/util\";\nimport { MAX_MINT, MINT_PRICE, ENABLE_MINT } from \"./lib/settings\";\nimport { createMintRequestTranscation } from \"./lib/transaction\";\n\nvar Wallet = null;\n\nexport default {\n  name: \"App\",\n  components: {\n    WalletDialog,\n    WalletButton,\n    SideDrawer,\n    MintedStatus,\n    MintDialog,\n  },\n  computed: {\n    ...mapGetters([\"minted\", \"connectedWallet\", \"isConnected\", \"newMintBadge\"]),\n\n    lamports() {\n      return this.accountInfo?.lamports || 0;\n    },\n    walletSol() {\n      return toDisplayAmount(this.accountInfo?.lamports || 0);\n    },\n    walletLamports() {\n      return this.accountInfo?.lamports || 0;\n    },\n    walletConnected() {\n      return this.isConnected;\n    },\n    currentView() {\n      return (this.$route.name || \"\").toLowerCase();\n    },\n    network() {\n      return network;\n    },\n    maxMint() {\n      return MAX_MINT;\n    },\n    mintPriceLamports() {\n      return MINT_PRICE;\n    },\n    allowMint() {\n      return ENABLE_MINT;\n    },\n    mintPriceSol() {\n      return toDisplayAmount(this.mintPriceLamports);\n    },\n    connectedWalletKey() {\n      return this.connectedWallet;\n    },\n  },\n  async created() {\n    await this.loadAbs();\n    // await this.startPollingNewMint();\n  },\n  // clean up\n  beforeDestroy() {\n    if (this.newMintPoolingHandle) clearInterval(this.newMintPoolingHandle);\n  },\n  data: () => ({\n    name: \"Abstratica\",\n    // wallet\n    accountChangeHandle: 0,\n    accountInfo: null,\n\n    mintDialog: false,\n    submitingMint: false,\n\n    // component stuff\n    snackbar: false,\n    snackbarMessage: \"\",\n    // snackbarType: \"primary\", // default color looks too ugly\n    drawer: false,\n    walletDialog: false,\n\n    nav: [\n      {\n        name: \"home\",\n        disabled: false,\n        path: \"/home\",\n        icon: \"mdi-home\",\n      },\n      {\n        name: \"my collection\",\n        disabled: false,\n        path: \"/collection\",\n        icon: \"mdi-image-multiple\",\n      },\n      {\n        name: \"explore\",\n        disabled: false,\n        path: \"/explore\",\n        icon: \"mdi-compass\",\n      },\n      {\n        name: \"codex\",\n        disabled: false,\n        path: \"/codex\",\n        icon: \"mdi-book-open-page-variant\",\n      },\n      {\n        name: \"marketplace\",\n        disabled: false,\n        target: \"_blank\",\n        href: \"https://digitaleyes.market/collections/Abstratica\",\n        icon: \"mdi-shopping\",\n      },\n    ],\n    newMintPollInterval: 5000,\n    newMintPoolingHandle: 0,\n    isPooling: false,\n    previousTab: \"/home\",\n    currentTab: \"/home\",\n    allowTabs: [\"/home\", \"/explore\", \"/codex\", \"/collection\"],\n  }),\n  methods: {\n    ...mapActions([\"loadAbs\", \"connect\", \"disconnect\", \"refreshTokens\"]),\n    async startPollingNewMint() {\n      this.newMintPoolingHandle = setInterval(async () => {\n        if (!this.walletConnected || this.isPooling) return;\n        await this.updateWalletSpl();\n      }, this.newMintPollInterval);\n    },\n    async updateWalletSpl() {\n      this.isPooling = true;\n      try {\n        await this.refreshTokens();\n      } catch (e) {\n        await sleep(2000);\n        console.log(\"update wallet info error\");\n      } finally {\n        this.isPooling = false;\n      }\n    },\n    updateSolBalance(info) {\n      this.accountInfo.lamports = info.lamports;\n    },\n    async onConnect(walletName) {\n      Wallet = await walletFac(walletName, network);\n\n      Wallet.on(\"connect\", async () => await this.onWalletConnectCb());\n      Wallet.on(\"disconnect\", this.onWalletDisconnectCb);\n      Wallet.on(\"error\", (e) => {\n        if (e.name == \"WalletNotFoundError\") {\n          this.showSnackBar(`Could not connect to ${walletName}`);\n        }\n        console.log(\"wallet connect canceled\");\n      });\n\n      Wallet.connect();\n    },\n    async onWalletConnectCb() {\n      try {\n        this.connect(Wallet.publicKey);\n        this.accountChangeHandle = networkConnection.onAccountChange(\n          Wallet.publicKey,\n          this.updateSolBalance\n        );\n\n        // no need to wait for this\n        this.accountInfo = await networkConnection.getAccountInfo(\n          this.connectedWalletKey\n        );\n        this.showSnackBar(\"Wallet connected.\", \"success\");\n        this.walletDialog = false;\n      } catch {\n        console.log(\"wallet connect canceled\");\n      }\n    },\n    onWalletDisconnectCb() {\n      networkConnection.removeAccountChangeListener(this.accountChangeHandle);\n      this.disconnect();\n      this.showSnackBar(\"Wallet disconnected.\", \"success\");\n      this.mintDialog = false;\n    },\n    openWalletDialog() {\n      this.walletDialog = true;\n    },\n    disconnectWallet() {\n      Wallet.disconnect();\n      this.disconnect();\n    },\n\n    showSnackBar(message, type = \"primary\") {\n      this.snackbar = true;\n      this.snackbarMessage = message;\n      // this.snackbarType = type;\n    },\n    onResize() {\n      this.drawer = false;\n    },\n    onMintClicked() {\n      if (!this.walletConnected) {\n        this.walletDialog = true;\n        return;\n      }\n      this.mintDialog = true;\n    },\n    async onTabChange(clickedTab) {\n      // console.log(clickedTab);\n      const isAllow =\n        this.allowTabs.findIndex(\n          (t) => t.toLowerCase() === clickedTab.toLowerCase()\n        ) !== -1;\n      this.currentTab = clickedTab;\n      await this.$nextTick();\n      if (!isAllow) this.currentTab = this.previousTab;\n      else this.previousTab = this.currentTab;\n    },\n\n    async onMintRequest() {\n      if (!this.allowMint) return;\n      // craft tran\n      this.submitingMint = true;\n      try {\n        const trans = await createMintRequestTranscation(\n          networkConnection,\n          this.connectedWalletKey,\n          creator,\n          this.mintPriceLamports\n        );\n\n        const signed = await Wallet.signTransaction(trans);\n        // console.log(trans);\n        const confirmed = await networkConnection.sendRawTransaction(\n          signed.serialize(),\n          {\n            skipPreflight: true,\n            preflightCommitment: \"confirmed\",\n          }\n        );\n\n        this.showSnackBar(\n          `Transaction sent: ${confirmed.substring(0, 16)}...`,\n          \"success\"\n        );\n      } finally {\n        this.submitingMint = false;\n      }\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n@import \"./scss/global.scss\";\n@import \"./scss/variables.scss\";\n@import \"./scss/effects.scss\";\n\n.nav-tabs {\n  max-width: 800px;\n}\n.nav-tabs {\n  ::v-deep .v-tabs-bar {\n    background-color: $abs-dark-bg !important;\n  }\n}\n\n.icon-inactive-fix {\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.mint-btn {\n  background: transparent !important;\n  box-shadow: 0 !important;\n}\n</style>\n"]}]}