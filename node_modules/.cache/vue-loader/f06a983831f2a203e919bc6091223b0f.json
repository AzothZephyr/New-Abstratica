{"remainingRequest":"/Users/aaronh/Downloads/abstratica-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aaronh/Downloads/abstratica-web/src/components/MintDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aaronh/Downloads/abstratica-web/src/components/MintDialog.vue","mtime":1653334282000},{"path":"/Users/aaronh/Downloads/abstratica-web/node_modules/cache-loader/dist/cjs.js","mtime":1693191335836},{"path":"/Users/aaronh/Downloads/abstratica-web/node_modules/babel-loader/lib/index.js","mtime":1693191336222},{"path":"/Users/aaronh/Downloads/abstratica-web/node_modules/cache-loader/dist/cjs.js","mtime":1693191335836},{"path":"/Users/aaronh/Downloads/abstratica-web/node_modules/vue-loader/lib/index.js","mtime":1693191336374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHRvRGlzcGxheUFtb3VudCB9IGZyb20gIi4uL2xpYi91dGlsIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgdmFsdWU6IEJvb2xlYW4sCiAgICBtaW50ZWQ6IE51bWJlciwKICAgIG1heDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDQyMDAsCiAgICB9LAogICAgcHJpY2U6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxLAogICAgfSwKICAgIGJhbGFuY2U6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlOiB0cnVlLAogICAgfSwKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIk1pbnQgQWJzdHJhdGljYSIsCiAgICB9LAogICAgYWxsb3dNaW50OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIGxvYWRpbmc6IEJvb2xlYW4sCiAgfSwKICBjb21wdXRlZDogewogICAgc2hvdzogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdmFsdWUpOwogICAgICB9LAogICAgfSwKICAgIHByaWNlTGFtcG9ydEZvcm1hdGVkKCkgewogICAgICByZXR1cm4gdGhpcy5wcmljZS50b1N0cmluZygpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIuIik7CiAgICB9LAogICAgcHJpY2VVaSgpIHsKICAgICAgcmV0dXJuIHRvRGlzcGxheUFtb3VudCh0aGlzLnByaWNlKTsKICAgIH0sCiAgICBtaW50QnV0dG9uVGV4dCgpIHsKICAgICAgaWYgKCF0aGlzLmFsbG93TWludCkgcmV0dXJuICJESVNBQkxFRCI7CiAgICAgIGlmICh0aGlzLmJhbGFuY2UgPCB0aGlzLnByaWNlKSByZXR1cm4gIkluc3VmZmljaWVudCBTT0wiOwogICAgICBpZiAodGhpcy5taW50ZWQgPj0gdGhpcy5tYXgpIHJldHVybiAiTGltaXQgcmVhY2hlZCI7CiAgICAgIHJldHVybiAiTWludCI7CiAgICB9LAogICAgY2FuTWludCgpIHsKICAgICAgaWYgKCF0aGlzLmFsbG93TWludCkgcmV0dXJuIGZhbHNlOwogICAgICBpZiAodGhpcy5iYWxhbmNlIDwgdGhpcy5wcmljZSkgcmV0dXJuIGZhbHNlOwogICAgICBpZiAodGhpcy5taW50ZWQgPj0gdGhpcy5tYXgpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgb3ZlcmxheUNsaWNrZWQoZXZlbnQpIHsKICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQpOwogICAgICBpZiAoWy4uLmV2ZW50LnNyY0VsZW1lbnQuYXR0cmlidXRlc10uZmluZCgoYSkgPT4gYS5uYW1lID09PSAib3ZlcmxheSIpKQogICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgfSwKICAgIG9uTWludCgpIHsKICAgICAgaWYgKCF0aGlzLmNhbk1pbnQpIHJldHVybjsKICAgICAgdGhpcy4kZW1pdCgibWludCIpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["MintDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MintDialog.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-dialog\n    transition=\"dialog-bottom-transition\"\n    v-model=\"show\"\n    max-width=\"450\"\n  >\n    <template v-slot:default=\"dialog\">\n      <v-card>\n        <v-card-title> {{ title }} </v-card-title>\n        <v-card-subtitle> {{ minted }} / {{ max }} </v-card-subtitle>\n        <v-card-text>\n          <template v-if=\"!loading\">\n            <div class=\"text-h6 pl-6 pr-6 pb-5 text-center\">\n              <div class=\"d-inline-flex align-center\">\n                <v-btn\n                  v-if=\"canMint\"\n                  @click=\"onMint\"\n                  outlined\n                  class=\"d-inline-flex ml-4\"\n                  :disabled=\"!canMint\"\n                >\n                  Mint For &nbsp;{{ priceUi }}\n                  <v-img\n                    class=\"d-inline-flex ml-1\"\n                    src=\"/solana.svg\"\n                    height=\"16px\"\n                    width=\"19px\"\n                  ></v-img>\n                </v-btn>\n                <v-btn\n                  v-else\n                  :disabled=\"true\"\n                  class=\"d-inline-flex ml-4\"\n                  outlined\n                >\n                  {{ mintButtonText }}\n                </v-btn>\n              </div>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"text-center pb-6\">\n              <v-progress-circular indeterminate></v-progress-circular>\n            </div>\n          </template>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions class=\"justify-end card-bg\">\n          <v-tooltip top>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-icon v-bind=\"attrs\" v-on=\"on\">mdi-information-outline</v-icon>\n            </template>\n            <span\n              >{{ priceUi }} SOL is {{ priceLamportFormated }} lamports</span\n            >\n          </v-tooltip>\n\n          <v-spacer></v-spacer>\n          <v-btn text @click=\"dialog.value = false\">Cancel</v-btn>\n        </v-card-actions>\n      </v-card>\n    </template>\n  </v-dialog>\n</template>\n\n<script>\nimport { toDisplayAmount } from \"../lib/util\";\n\nexport default {\n  props: {\n    value: Boolean,\n    minted: Number,\n    max: {\n      type: Number,\n      default: 4200,\n    },\n    price: {\n      type: Number,\n      default: 1,\n    },\n    balance: {\n      type: Number,\n      require: true,\n    },\n    title: {\n      type: String,\n      default: \"Mint Abstratica\",\n    },\n    allowMint: {\n      type: Boolean,\n      default: false,\n    },\n    loading: Boolean,\n  },\n  computed: {\n    show: {\n      get() {\n        return this.value;\n      },\n      set(value) {\n        this.$emit(\"input\", value);\n      },\n    },\n    priceLamportFormated() {\n      return this.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    priceUi() {\n      return toDisplayAmount(this.price);\n    },\n    mintButtonText() {\n      if (!this.allowMint) return \"DISABLED\";\n      if (this.balance < this.price) return \"Insufficient SOL\";\n      if (this.minted >= this.max) return \"Limit reached\";\n      return \"Mint\";\n    },\n    canMint() {\n      if (!this.allowMint) return false;\n      if (this.balance < this.price) return false;\n      if (this.minted >= this.max) return false;\n      return true;\n    },\n  },\n  methods: {\n    overlayClicked(event) {\n      // console.log(event);\n      if ([...event.srcElement.attributes].find((a) => a.name === \"overlay\"))\n        this.show = false;\n    },\n    onMint() {\n      if (!this.canMint) return;\n      this.$emit(\"mint\");\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n@import \"../scss/global.scss\";\n@import \"../scss/variables.scss\";\n.card-bg {\n  background: #fafafa;\n}\n</style>\n"]}]}